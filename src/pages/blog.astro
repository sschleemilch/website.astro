---
import Base from "@layouts/Base.astro";
import { getCollection } from "astro:content";
import BlogPosts from "@components/BlogPosts.astro";
import Button from "@components/Button.astro";
import Lines from "@components/Lines.astro";
import H1 from "@components/H1.astro";
import accents from "@config/accents.json";
const posts = (await getCollection("posts")).sort((a, b) => b.data.pubDate - a.data.pubDate);
const title = "Blog";
const accent = accents[title];
---

<Base title={title} accent={accent}>
    <H1>
        <span class=`text-${accent} dark:text-${accent}Dark`>All</span> Posts
        <span class="text-muted dark:text-mutedDark">({posts.length})</span>
    </H1>
    <BlogPosts posts={posts} />
    <Lines>
        <div class="flex text-center gap-4">
            <Button href="/tags" color={accents["Tags"]} icon="mdi:tag">Tags</Button>
        </div>
    </Lines>
</Base>
